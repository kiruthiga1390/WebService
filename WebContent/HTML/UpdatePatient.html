<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
		<title>Patient Information Update</title>
		<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link
	href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700|Lato:400,100,300,700,900'
	rel='stylesheet' type='text/css' />
<link rel="stylesheet" href="../CSS/animate.css" />
<link rel="stylesheet" href="../CSS/style.css" />
	</head>
	<script>
		window.addEventListener("load", function () {
			
			function sendData(formData) {
			    var XHR = new XMLHttpRequest();
			
			    // got response
			    XHR.addEventListener("load", function(event) {
			      if(event.target.status == 200) {
			     	location.href = "http://localhost:8080/Patient_Monitoring/HTML/PatientUpdateSuccess.html";
			      } else {
			       	location.href = "http://localhost:8080/Patient_Monitoring/HTML/PatientUpdateError.html";
			      }
			    });
			    
			    // Define what happens in case of error
			    XHR.addEventListener("error", function(event) {
			      alert('Oops! Something went wrong.' + event.target.responseText);
			      location.href = "http://localhost:8080/Patient_Monitoring/HTML/PatientUpdateError.html";
			    });
				
			    // Set up our request
			    XHR.open("PUT", "http://localhost:8080/Patient_Monitoring/rest/WebService/updatepatientdetails");
			    
			    XHR.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
				
			    var paramStr = new URLSearchParams(formData).toString()
			    XHR.send(paramStr);
			  }
			
			
			function doNothing() {
				alert(document.getElementById("name").value);
			}
			
		  	// Access the form element...
		 	var form = document.getElementById("myForm");
		  	
			// ...and take over its submit event.
			form.addEventListener("submit", function (event) {
				event.preventDefault();
				var formData = new FormData(form);
			  	sendData(formData);
			});
			
		});
	</script>
	
	<body>
	<div class="container">
		<div>
			<h1 id="title" class="hidden">Patient Monitoring</h1>
		</div>

		<div class="login-box animated fadeInUp">
			<div class="box-header">
				<h2>Update Patient Details</h2>
			</div>


			<button type="button"
				onclick="document.location.href = 'GetPatientDetail.html'">Get
				Patient Details</button>
			<button type="button"
				onclick="document.location.href = 'GetPatientHistory.html'">Get
				Patient History</button>
			<button type="button"
				onclick="document.location.href = 'GetPatientBilling.html'">Get
				Patient Billing</button>
			<button type="button" onclick="document.location.href = 'AddPatient.html'">Add New Patient</button>	
			<button type="button" onclick="document.location.href = 'DeletePatient.html'">Delete Patient details</button>	
				<button type="button" onclick="document.location.href = 'UpdatePatient.html'">Update Patient details</button>

			
			
			
		<form id="myForm">
		<label>Patient ID</label>
		<input type="text" name="id">
		<br/>
		<label>Patient Name</label>
		<input type="text" name="name">
		<br/>
		<label>Patient Age</label>
		<input type="text" name="age">
		<br/>
		<label>Patient Address</label>
		<input type="text" name="address">
		<br/>
		<label>Patient Insurance</label>
		<input type="text" name="insurance">
		<br/>
		
		
	  <input type="submit" value="Update">
	</form>

			
		</div>
	</div>



</body>
</html>